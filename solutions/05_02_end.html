<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>05_02 - D3.js Essential Training</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
 
        ellipse {
            fill: blue;
        }
        rect {
            fill: pink;
        }
        text {
            fill:white;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 32px;
        }

        line, path {
            stroke: green;
            stroke-width: 5px;
            fill: none;
        }

        .g2 path {
            fill: pink;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
</head>
<body>
    <script>

    const data = [
        { day: 0, temp: 12 },
        { day: 1, temp: 17 },
        { day: 2, temp: 15 },
        { day: 3, temp: 15 }, 
        { day: 4, temp: 18 },
        { day: 5, temp: 20 },
        { day: 6, temp: 16 }
        ];

    const margin = { 'left':50,'top':100,'right':0,'bottom':0 }

    const width = document.documentElement.clientWidth;
    const height = document.documentElement.clientHeight;
    
    const yScale = d3.scaleLinear()
        .domain([0,d3.max(data, d => d.temp)])//input
        .range([height, 0]);//output

console.log('height -->', height);
console.log('yScale0',yScale(0));
console.log('yScaleMax',yScale(d3.max(data, d=>d.temp)));

    const svg = d3.select("body").append("svg")
    .attr("height", "100%")
    .attr("width", "100%");
         
    const line = d3.line()
        .x(d=>d.day*40)
        .y(d=>yScale(d.temp))
        .defined(d=>!isNaN(d.temp));

    const group = svg.append("g").attr('transform',`translate(${margin.left},${margin.top})`);
    
    group.append('path')
        .datum(data)
        .attr('d',line);
        // const groups = svg.selectAll('g').data(interpolateTypes)
        //     .enter().append('g')
        //     .attr('class',(d,i)=>'g'+i)
        //     .attr('transform',(d,i)=>{
        //         const x = (i%cols) * chartWidth;
        //         const y = Math.floor(i/cols)*chartHeight;
        //         return `translate(${x},${y})`;
        //     });

        // groups.each(function(interpolate, i){
        //     let area = d3.area()
        //         .x(d=>d.x*5)
        //         .y1(d=>d.y)
        //         .y0(h)
        //         .curve(interpolate)
        //         .defined(d=> !isNaN(d.x) && !isNaN(d.y));

        //     d3.select(this).append("path")
        //         .datum(data)
        //         .attr('d', area);
        // })



    </script>

</body>
</html>